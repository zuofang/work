<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
    <title></title>  
    <link href="css/mui.min.css" rel="stylesheet"/>
    <link href="css/app.css" rel="stylesheet" />
    <link href="css/main.css" rel="stylesheet" />
    <link href="css/mui.picker.min.css" rel="stylesheet" />
    <link href="css/mui.poppicker.css" rel="stylesheet"/>
</head>
<body class="bg-white">
	<header class="mui-bar mui-bar-nav" style="position: relative;">
	    <a class="mui-action-back mui-icon mui-icon-left-nav mui-pull-left"></a>
	    <h1 class="mui-title">添加信息</h1>
	    <a id="set" class="mui-icon mui-icon-gear mui-pull-right"></a>
	</header>
	<div class="mui-content" style="padding-top: 0;">
	    <form action="" id="info" class="mui-clearfix">
	    	<h5>详细信息</h5>
	    	<div>
	    		<label for="">状态</label>
				<input id='statusPicker' readonly=""></input>
	    	</div>
	    	<div><label for="">价格</label><input type="text"/></div>
	    	<div><label for="">平方均价</label><input type="text"/></div>
	    	<div><label for="">房间数</label><input type="text"/></div>
	    	<div><label for="">厕所数</label><input type="text"/></div>
	    	<div><label for="">大厅数</label><input type="text"/></div>
	    	<div><label for="">面积</label><input type="text"/></div>
	    	<div><label for="">年份</label><input type="text"/></div>
	    	<div>
	    		<label for="">房屋类型</label>
	    		<input id='categoryPicker' readonly=""></input>	    		
	    	</div>
	    	<div><label for="">MLS/房屋代码</label><input type="text"/></div>
	    	<div class="address"><label for="">地址</label><textarea  rows="2"></textarea></div>
	    	<h5>房屋描述</h5>   	
	    	<div class="describtion">
	    		<label for="">添加描述</label>
	    		<textarea  rows="7"></textarea>
	    	</div>  	
	    	<h5>2015房产税</h5>
	    	<div><label for="">2015房产税</label><input type="text"/></div>
	    	<h5>周边学校</h5>
	    	<div class="school"><label for="">小学</label><input type="text" value="San Mateo School"/><span id="psPicker">评分</span></div>
	    	<div class="school"><label for="">中学</label><input type="text" value="San Mateo School"/><span id="msPicker">评分</span></div>
	    	<div class="school"><label for="">高中</label><input type="text" value="San Mateo School"/><span id="hsPicker">评分</span></div>
	    </form>
	</div>
	<footer class="footer" style="margin-top: 30px;">
		<button id="releaseInfo" class="action_btn">发布<i class="mui-icon mui-icon-arrowright"></i></button>	
	</footer>
	<script src="js/mui.min.js"></script>
	<script src="js/vue.js"></script>
	<script src="js/mui.picker.min.js"></script>
	<script src="js/mui.poppicker.js"></script>
	<script src="js/api.js"></script>
	<script src="js/app.js"></script>
	<script type="text/javascript" charset="UTF-8">
      	mui.init();
      	mui.ready(function() {
      		var statusData=[{
				value: 0,
				text: '出租'
			}, {
				value: 1,
				text: '出售'
			}];
			
			var scoreData=[{
				value:0,
				text:'0.0'
			},
			{
				value:1,
				text:'1.0'
			},
			{
				value:2,
				text:'3.0'
			},
			{
				value:3,
				text:'3.0'
			},
			{
				value:4,
				text:'4.0'
			},
			{
				value:5,
				text:'5.0'
			},
			{
				value:6,
				text:'6.0'
			},
			{
				value:7,
				text:'7.0'
			},
			{
				value:8,
				text:'8.0'
			},
			{
				value:9,
				text:'9.0'
			},{
				value:10,
				text:'10.0'
			}];
			window.realtyApi.getRealtyTypeList(function(data){
				var categoryData={};
				for(var i;i<data.length;i++){
					
				}
				var categoryData=[{
					 value:0,
					 text:'联排别墅'
				},{
					 value:1,
					 text:'大别墅'
				},{
					 value:2,
					 text:'小别墅'
				},{
					 value:3,
					 text:'套间'
				}];
			setPicker('categoryPicker',categoryData);
			});
			setPicker('statusPicker',statusData);
			
			setPicker('psPicker',scoreData);
			setPicker('msPicker',scoreData);
			setPicker('hsPicker',scoreData);
			
		});
      	document.getElementById('releaseInfo').addEventListener('tap',function(){
      		var btnArray = ['确定','取消' ];
				mui.confirm('确认发布此信息？','', btnArray, function(e) {
					if (e.index == 0) {
						//确定
						document.getElementById('info').submit();
					} else {
						//取消
					}
				})
      	});
      	//创建选择器
      	function setPicker(id,data){
      		var picker = new mui.PopPicker();
			picker.setData(data);		
			var p = document.getElementById(id);
				p.addEventListener('tap', function(event) {
					picker.show(function(items) {
						if(p.innerHTML){
							p.innerHTML=items[0].text;
							//返回 false 可以阻止选择框的关闭
							//return false;
						}else{
							p.value=items[0].text;
							
						}
						
					});
				}, false);
      	}
    </script>
</body>
</html>